!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@angular/common"),require("@angular/common/http"),require("ng2-charts"),require("@angular/common/locales/es-CO")):"function"==typeof define&&define.amd?define("portal-indicadores",["exports","@angular/core","@angular/common","@angular/common/http","ng2-charts","@angular/common/locales/es-CO"],o):o((e=e||self)["portal-indicadores"]={},e.ng.core,e.ng.common,e.ng.common.http,e.ng2Charts,e.ng.common.locales["es-CO"])}(this,(function(e,o,t,i,a,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(){function e(e){this.http=e}return e.prototype.obtenerDatosGraficaAportesHidricos=function(e){return this.http.get("https://serviciosfacturacion.xm.com.co/XM.Portal.Indicadores/api/Oferta/AportesHidricos/"+e)},e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:i.HttpClient}]},e.ngInjectableDef=o.ɵɵdefineInjectable({factory:function(){return new e(o.ɵɵinject(i.HttpClient))},token:e,providedIn:"root"}),e}();var s=function(){function e(e,o){this.servicioDatosGrafica=e,this.datePipe=o,this.nombreGrafica="",this.tipoGrafica="line",this.lineChartLabels=[],this.nombreEjeY="GWh",this.datosGrafica=[{data:[],label:"Caudal",lineTension:0,borderWidth:2,fill:!1,pointRadius:0,pointHitRadius:5},{data:[],label:"Media histótica",lineTension:0,borderWidth:2,fill:!1,pointRadius:0,pointHitRadius:5}],this.coloresGrafica=[{borderColor:"#FF6A13",pointBorderColor:"#FF6A13",pointBackgroundColor:"#FF6A13"},{borderColor:"#440099",pointBorderColor:"#440099",pointBackgroundColor:"#440099"}],this.opcionesGrafica={responsive:!0,scales:{xAxes:[{gridLines:{lineWidth:0,zeroLineWidth:1},ticks:{maxTicksLimit:13}}],yAxes:[{gridLines:{lineWidth:0,zeroLineWidth:1},scaleLabel:{display:!1,labelString:this.nombreEjeY},ticks:{beginAtZero:!0}}]}},this.lineChartLegend=!0,this.lineChartPlugins=[],this.resolucion="dia"}return e.prototype.ngOnInit=function(){this.consultarDatosGraficas(this.resolucion)},e.prototype.consultarDatosGraficas=function(e){var o=this,t=[],i=[],a=[];this.servicioDatosGrafica.obtenerDatosGraficaAportesHidricos(e).subscribe((function(e){o.nombreGrafica=e.Nombre,o.nombreEjeY=e.Variables[0].UnidadMedida,e.Variables[0].Datos.forEach((function(e){t.unshift(e.Valor),i.unshift(o.datePipe.transform(e.Fecha,"dd/MMM/yyyy","UTC-5","es-CO"))})),e.Variables[1].Datos.forEach((function(e){a.unshift(e.Valor)})),o.lineChartLabels=i,o.datosGrafica[0].data=t,o.datosGrafica[1].data=a}))},e.prototype.cambiarResolucion=function(e){this.consultarDatosGraficas(e.target.value)},e.decorators=[{type:o.Component,args:[{selector:"lib-grafica",template:'<div>\n    <h1 style="text-align:center">{{nombreGrafica}}</h1>\n</div>\n<div *ngIf="this.datosGrafica[0].data.length !== 0" class="chart-wrapper" class="img">\n    <canvas baseChart [datasets]="datosGrafica" [labels]="lineChartLabels" [options]="opcionesGrafica"\n        [colors]="coloresGrafica" [legend]="lineChartLegend" [chartType]="tipoGrafica" [plugins]="lineChartPlugins">\n    </canvas>\n</div>\n<div style="text-align:center">\n    <label for="opcionesResolucion">Resolucion</label>\n    <select name="opcionesResolucion" [value]="resolucion" id="opcionesResolucion" (change)="cambiarResolucion($event)">\n        <option value="dia">Diario</option>\n        <option value="mes">Mes</option>\n    </select>\n</div>',styles:[".img{display:block;margin-left:auto;margin-right:auto;width:70%!important;height:70%!important}"]}]}],e.ctorParameters=function(){return[{type:r},{type:t.DatePipe}]},e}();t.registerLocaleData(n,"es-Co");var c=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{declarations:[s],imports:[t.CommonModule,a.ChartsModule,i.HttpClientModule],exports:[s],providers:[a.ThemeService,t.DatePipe,{provide:o.LOCALE_ID,useValue:"es-Co"}]}]}],e}();e.GraficaComponent=s,e.PortalIndicadoresModule=c,e.ɵa=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=portal-indicadores.umd.min.js.map